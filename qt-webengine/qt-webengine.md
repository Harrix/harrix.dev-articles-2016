---
date: 2016-03-26
categories: [it, programming]
tags: [Qt, Базы данных]
update: 2019-08-07
---

# Qt WebEngine в Qt Widgets приложении для просмотра веб-страниц

В статье рассказывается, как в подключить Qt WebEngine в Qt Widgets приложении в виде примера открытия сайтов с помощью данного компонента.

В версии Qt 5.6.0 выпилили `QWebKit`. Вместо него теперь `Qt WebEngine`. Так что придется теперь работать с ним. Обратите внимание, что новый компонент пока работает только для версии Qt под компилятором Visual Studio.

В `Design` режиме в Qt 5.6.0 еще нет данного компонента (возможно потом добавят). Поэтому нужно будет либо его нужно будет вручную добавить в файл формы, либо «скоммуниздить» из какого-нибудь примера. Пойдем вторым способом.

Перейдем в режим примеров:

![Раздел примеров](img/get-component_01.png)

Например, нужный нам компонент есть в приложении `WebEngine Markdown Editor Example`. Щелкаем по нему:

![Проект WebEngine Markdown Editor Example](img/get-component_02.png)

![Первоначальная настройка проекта-примера](img/get-component_03.png)

Переходим на форму приложения:

![Переход на форму приложения](img/get-component_04.png)

И там копируем компонент типа `QWebEngineView`:

![Копирование компонента](img/get-component_05.png)

И вставляем его на форму нашего приложения:

![Компонент на форме](img/form_01.png)

Я еще добавил на форму обычную кнопку и сделал компоновку по вертикали:

![Компоновка элементов по вертикали](img/form_02.png)

![Итоговый вариант формы](img/form_03.png)

В `.pro` файле добавьте `webenginewidgets`:

![Редактирование PRO файла](img/pro.png)

В слоте клика кнопки напишите такой код, не забыв подключить `#include <QUrl>`:

```cpp
ui->preview->load(QUrl("http://www.google.com/"));
ui->preview->show();
```

![Код тестового примера](img/cpp.png)

Теперь при старте программы и клике на кнопку (при наличии интернета) отобразится мой сайт:

![Результат выполнения программы](img/run.png)

Кстати, если вам нужно открыть локальный файл, то вместо первой строчки в последнем коде может быть такая:

```cpp
ui->preview->load(QUrl::fromLocalFile("C:\\index.html"));
```
