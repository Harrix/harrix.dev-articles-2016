---
categories: [it, programming]
tags: [C++, Visual Studio, Сложение двух чисел, UWP]
---

# Сложение двух чисел в Visual Studio 2015 на C++/CLI (Windows 10 UWP приложение)

В статье рассказывается как создать приложение сложения двух чисел в Visual Studio 2015 на C++/CLI в виде универсального приложения под Windows 10 или Metro приложения приложения.

## Подготовка

При создании приложения Windows попросит перевести устройство в режим разработчика:

![Сообщение об необходимости включения режима разработчика](img/preparation_01.png)

![Включение режима разработчика в Windows 10](img/preparation_02.png)

![Подтверждение включения режима разработчика](img/preparation_03.png)

## Создание проекта

![Создание нового проекта](img/new-project_01.png)

![Выбор типа нового проекта](img/new-project_02.png)

![Созданный проект](img/new-project_03.png)

## Интерфейс приложения

Откройте файл `MainPage.xaml`:

![Открытие файла MainPage.xaml](img/interface_01.png)

Если находитесь не в конструкторе, то перейдите в него. Конструктор открывается не очень быстро. В результате увидите это окно:

![Конструктор формы приложения](img/interface_02.png)

Пока мы не собираемся писать приложения под все платформы с адаптивным дизайном, поэтому в качестве платформы для конструктора выберете `Desktop`:

![Выбор режима отображения формы приложения](img/interface_03.png)

Перетащите два `textBox` на форму, в которые будем записывать наши числа:

![Компоненты textBox](img/interface_04.png)

И поменяйте значения в этих полях ввода:

![Изменение начального значения в полях ввода](img/interface_05.png)

Перетащите кнопку на форму:

![Компонент кнопки на форме](img/interface_06.png)

Перетащите третий `textBox` на форму, в которую мы будем выводить информацию, и растяните его:

![Компонент textBox для вывода информации](img/interface_07.png)

## Написание кода основной программы

Щелкнете по кнопке двойным кликом:

![Двойной клик по кнопке](img/button_01.png)

Мы получили метод, в котором прописываем реакцию на клик нашей мыши:

![Метод обработки клика кнопки](img/button_02.png)

В фигурных скобках пропишем код нашей программы по считыванию двух чисел, их сложении и выводе результата:

```cpp
int x, y, z;
// Считаем значение из первого textBox
String^ S1 = textBox->Text;
// Переведем значение в число
wstring ws1(S1->Data());
wstringstream convertor;
convertor << ws1;
convertor >> x;

// Считаем значение из второго textBox
String^ S2 = textBox1->Text;
// Переведем значение в число
wstring ws2(S2->Data());
wstringstream convertor2;
convertor2 << ws2;
convertor2 >> y;

// Посчитаем сумму
z = x + y;

// Выведем результат
textBox2->Text = z.ToString();
```

![Код метода обработки клика кнопки](img/code_01.png)

Обратите внимание на то, что приходится вот таким страшным способом переводить строчки в числа, так как стандартные функции `int::Parse(S2);` не работают.

Также сейчас нужно в этом файле прописать строчку:

```cpp
using namespace std;
```

![Подключение пространства имен стандартной библиотеки](img/code_02.png)

А также нужно перейти в файл `pch.h`:

![Переход в заголовочный файл](img/code_03.png)

И там пропишите строчки:

```cpp
#include <stdlib.h>
#include <stdio.h>
#include <errno.h>
#include <iostream>
#include <sstream>
```

![Подключенные библиотеки](img/code_04.png)

## Запуск программы

![Запуск приложения](img/run.png)

Получаем наше приложение:

![Запущенное приложение](img/result_01.png)

Чтобы не видеть служебной черной надписи вверху слева, то выберете режим не `Debug`, а `Release`:

![Переключение сборки проекта в режим Release](img/release.png)

![Запущенное приложение в режиме Release](img/result_02.png)

При вводе наших чисел и нажатии на кнопку получим вот это:

![Результат выполнения программы](img/result_03.png)
