---
date: 2016-12-15
categories:
  - it
  - programming
tags:
  - Qt
author: Anton Sergienko
author-email: anton.b.sergienko@gmail.com
license: CC BY 4.0
license-url: https://github.com/Harrix/harrix.dev/blob/main/LICENSE.md
permalink-source: https://github.com/Harrix/harrix.dev-articles-2016/blob/main/copy-files-in-build-folder-qt/copy-files-in-build-folder-qt.md
permalink: https://harrix.dev/ru/articles/2016/copy-files-in-build-folder-qt/
lang: ru
attribution:
  - author: Qt Project
    author-site: https://www.qt.io
    license: Public domain
    license-url: https://en.wikipedia.org/wiki/Public_domain
    permalink: https://commons.wikimedia.org/wiki/File:Qt_logo_2016.svg
    permalink-date: 2019-01-26
    name: Qt logo 2016.svg
---

# –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –≤ build –ø–∞–ø–∫—É –ø—Ä–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ –≤ Qt

![Featured image](featured-image.svg)

–£ –≤–∞—Å –µ—Å—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ–µ–∫—Ç –≤ —Å—Ä–µ–¥–µ `Qt`. –ü—Ä–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π –ø–∞–ø–∫–µ `release` –∏–ª–∏ `debug` –ø–æ—è–≤–ª—è–µ—Ç—Å—è —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π EXE —Ñ–∞–π–ª, –∫–æ—Ç–æ—Ä—ã–π –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è, –Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ `Qt Creator`. –û—á–µ–Ω—å —á–∞—Å—Ç–æ —Ç—Ä–µ–±—É–µ—Ç—Å—è, —á—Ç–æ–±—ã –≤ –ø–∞–ø–∫–µ —Å —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–º EXE —Ñ–∞–π–ª–æ–º –±—ã–ª–∏ –∫–∞–∫–∏–µ-—Ç–æ —Å–ª—É–∂–µ–±–Ω—ã–µ —Ñ–∞–π–ª—ã: –∫–∞—Ä—Ç–∏–Ω–∫–∏, MP3 —Ñ–∞–π–ª—ã, —Å–ª—É–∂–µ–±–Ω—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –∏ –¥—Ä.

<details>
<summary>üìñ –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ</summary>

- [–ü–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–¥–∞—á–∏](#–ø–æ—Å—Ç–∞–Ω–æ–≤–∫–∞-–∑–∞–¥–∞—á–∏)
- [–†–µ—à–µ–Ω–∏–µ](#—Ä–µ—à–µ–Ω–∏–µ)

–í —á–µ–º –ø—Ä–æ–±–ª–µ–º–∞? –ë–µ—Ä–µ–º –∏ –∫–æ–ø–∏—Ä—É–µ–º –≤ —ç—Ç—É –ø–∞–ø–∫—É –Ω—É–∂–Ω—ã–µ —Ñ–∞–π–ª—ã –∏ –≤—Å—ë. –ù–æ, –ø—Ä–µ–¥—Å—Ç–∞–≤–∏–º, —á—Ç–æ –º—ã –Ω–∞—à –ø—Ä–æ–µ–∫—Ç –≤–µ–¥–µ–º —Å –ø–æ–º–æ—â—å—é Git. –ò –≤ –Ω–∞—à–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –µ—Å—Ç—å —Ñ–∞–π–ª `.gitignore`, –∫–æ—Ç–æ—Ä—ã–π –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç –ø–∞–ø–∫–∏ —Å —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –ø—Ä–æ–µ–∫—Ç–æ–º. –ö—Å—Ç–∞—Ç–∏, —ç—Ç–æ –æ—á–µ–Ω—å –¥–∞–∂–µ —Ö–æ—Ä–æ—à–æ –∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ.

–ù–æ –ø—Ä–∏ —ç—Ç–æ–º –≤ Git –Ω–µ –±—É–¥—É—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è —ç—Ç–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ Qt –Ω–µ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç, –Ω–æ –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω—ã –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã EXE –ø—Ä–æ–µ–∫—Ç–∞ (—Ç–∞–∫ –∫–∞–∫ –æ–Ω–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º–æ–π –ø–∞–ø–∫–µ).

–ü–æ—ç—Ç–æ–º—É –±—ã–ª–æ –±—ã –ø–æ–ª–µ–∑–Ω–æ –∏–º–µ—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—É—é –ø–∞–ø–∫—É –≤ –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞, –∏–∑ –∫–æ—Ç–æ—Ä–æ–π —Ñ–∞–π–ª—ã –±—É–¥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤ –ø–∞–ø–∫—É —Å —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–º EXE —Ñ–∞–π–ª–æ–º –ø—Ä–∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞.

–≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç, –Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ Git –≤–µ—Å—Ç–∏ –∫–æ–Ω—Ç—Ä–æ–ª—å –∑–∞ —ç—Ç–∏–º–∏ —Ñ–∞–π–ª–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –±—É–¥—É—Ç –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤ –ø–∞–ø–∫—É —Å EXE —Ñ–∞–π–ª–æ–º.

</details>

## –ü–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–¥–∞—á–∏

–ò–º–µ–µ—Ç—Å—è –ø–∞–ø–∫–∞ `project` —Å –ø—Ä–æ–µ–∫—Ç–æ–º Qt (—Ç–∞–º –Ω–∞—Ö–æ–¥–∏—Ç—Å—è `.pro` —Ñ–∞–π–ª).

–í —ç—Ç–æ–π –ø–∞–ø–∫–µ –µ—Å—Ç—å –ø–∞–ø–∫–∞ `copy_to_build_dir`, –≤ –∫–æ—Ç–æ—Ä–æ–π –Ω–∞—Ö–æ–¥—è—Ç—Å—è —Ç–µ —Ñ–∞–π–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ –º—ã –±—É–¥–µ–º –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤ –ø–∞–ø–∫—É —Å —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –ø—Ä–æ–µ–∫—Ç–æ–º:

![–ü–∞–ø–∫–∞ —Å –Ω—É–∂–Ω—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏](img/folder_01.png)

_–†–∏—Å—É–Ω–æ–∫ 1 ‚Äî –ü–∞–ø–∫–∞ —Å –Ω—É–∂–Ω—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏_

–î–æ–ø—É—Å—Ç–∏–º —Ç–∞–º –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —Ç–∞–∫–æ–µ –±–∞—Ä–∞—Ö–ª–æ:

![–°–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø–∞–ø–∫–∏ —Å —Ñ–∞–π–ª–∞–º–∏](img/folder_02.png)

_–†–∏—Å—É–Ω–æ–∫ 2 ‚Äî –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø–∞–ø–∫–∏ —Å —Ñ–∞–π–ª–∞–º–∏_

–ï—Å—Ç—å –ø–∞–ø–∫–∞ `build` (—É —Ä–∞–∑–Ω—ã—Ö –ª—é–¥–µ–π –æ–Ω–∞ –º–æ–∂–µ—Ç –Ω–∞–∑—ã–≤–∞—Ç—å—Å—è –ø–æ-—Ä–∞–∑–Ω–æ–º—É –∏ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ä–∞–∑–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö), –≤ –∫–æ—Ç–æ—Ä–æ–π –µ—Å—Ç—å –ø–∞–ø–∫–∏ `release` –∏ `debug`, –≤ –æ–¥–Ω–æ–π –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π EXE —Ñ–∞–π–ª.

–ù—É–∂–Ω–æ –ø—Ä–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ –≤—Å–µ —Ñ–∞–π–ª—ã –∏ –ø–∞–ø–∫–∏ –∏–∑ –ø–∞–ø–∫–∏ `copy_to_build_dir` —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤ –ø–∞–ø–∫—É `release` –∏ `debug`, –≥–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è EXE —Ñ–∞–π–ª.

## –†–µ—à–µ–Ω–∏–µ

–í —Ñ–∞–π–ª–µ –ø—Ä–æ–µ–∫—Ç–∞ `.pro` –¥–æ–±–∞–≤–∏–º —Å–ª–µ–¥—É—é—â–∏–µ —Å—Ç—Ä–æ–∫–∏:

```text
CONFIG(release, debug|release): DESTDIR = $$OUT_PWD/release
CONFIG(debug, debug|release): DESTDIR = $$OUT_PWD/debug

copy_to_build.path = $$DESTDIR
copy_to_build.files = copy_to_build_dir/*

INSTALLS += \
    copy_to_build
```

![–§–∞–π–ª PRO –ø—Ä–æ–µ–∫—Ç–∞](img/pro-file.png)

_–†–∏—Å—É–Ω–æ–∫ 3 ‚Äî –§–∞–π–ª PRO –ø—Ä–æ–µ–∫—Ç–∞_

–§–∞–∫—Ç–∏—á–µ—Å–∫–∏ —ç—Ç–æ –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ –≤ –ø—Ä–æ–µ–∫—Ç–µ. –ù–æ, –µ—Å–ª–∏ –º—ã —Å–∫–æ–º–ø–∏–ª–∏—Ä—É–µ–º –ø—Ä–æ–µ–∫—Ç, —Ç–æ –Ω—É–∂–Ω—ã–µ –Ω–∞–º —Ñ–∞–π–ª—ã –Ω–µ —Å–∫–æ–ø–∏—Ä—É—é—Ç—Å—è. –î–µ–ª–æ –≤ —Ç–æ–º, —á—Ç–æ –∫–æ–º–∞–Ω–¥–∞ `INSTALLS` —Å—Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ `qmake` —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º `install`.

–ï—Å–ª–∏ –≤—ã –ø–æ–ª—å–∑—É–π—Ç–µ—Å—å Qt Creator, —Ç–æ –≤—Ä—è–¥ –ª–∏ –≤—ã –≤—Ä—É—á–Ω—É—é –∑–∞–ø—É—Å–∫–∞–µ—Ç–µ —É—Ç–∏–ª–∏—Ç—É `qmake`.

–ò–¥–µ–º –≤ —Ä–∞–∑–¥–µ–ª `Projects`:

![–†–∞–∑–¥–µ–ª Projects](img/projects.png)

_–†–∏—Å—É–Ω–æ–∫ 4 ‚Äî –†–∞–∑–¥–µ–ª Projects_

–í —Ä–∞–∑–¥–µ–ª–µ `Build Steps` —â–µ–ª–∫–∞–µ–º –ø–æ –ø—É–Ω–∫—Ç—É `Add Build Step`:

![–ö–Ω–æ–ø–∫–∞ Add Build Step](img/add-build-step.png)

_–†–∏—Å—É–Ω–æ–∫ 5 ‚Äî –ö–Ω–æ–ø–∫–∞ Add Build Step_

–í—ã–±–∏—Ä–∞–µ–º –ø—É–Ω–∫—Ç `Make`:

![–ü—É–Ω–∫—Ç Make](img/make.png)

_–†–∏—Å—É–Ω–æ–∫ 6 ‚Äî –ü—É–Ω–∫—Ç Make_

–í –ø—É–Ω–∫—Ç–µ `Make arguments` –ø–∏—à–µ–º `install`:

![–ó–Ω–∞—á–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ Make arguments](img/make-arguments.png)

_–†–∏—Å—É–Ω–æ–∫ 7 ‚Äî –ó–Ω–∞—á–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ Make arguments_

–í—Å—ë. –¢–µ–ø–µ—Ä—å –º–æ–∂–µ–º —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–µ–∫—Ç, –∏ –≤ –ø–∞–ø–∫–µ —Å EXE —Ñ–∞–π–ª–æ–º –ø–æ—è–≤–∏—Ç—Å—è —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø–∞–ø–∫–∏ `copy_to_build_dir`:

![–†–µ–∑—É–ª—å—Ç–∞—Ç –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞](img/folder_03.png)

_–†–∏—Å—É–Ω–æ–∫ 8 ‚Äî –†–µ–∑—É–ª—å—Ç–∞—Ç –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞_

–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ —Ç–æ, —á—Ç–æ –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ —Ä–µ–∂–∏–º–∞ –∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–∏ —Å `Release` –Ω–∞ `Debug` –∏ –Ω–∞–æ–±–æ—Ä–æ—Ç —ç—Ç—É –ø—Ä–æ—Ü–µ–¥—É—Ä—É –≤ —Ä–∞–∑–¥–µ–ª–µ `Projects` –Ω–∞–¥–æ –±—É–¥–µ—Ç –ø–æ–≤—Ç–æ—Ä–∏—Ç—å.

–ü—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —Ñ–∞–π–ª–∞ `.pro.user` (–æ–Ω —Ç–æ–∂–µ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è –≤ `.gitignore` –¥–ª—è Qt, —á—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ) –ø—Ä–æ—Ü–µ–¥—É—Ä—É –≤ —Ä–∞–∑–¥–µ–ª–µ `Projects` —Ç–æ–∂–µ –Ω–∞–¥–æ –±—É–¥–µ—Ç –ø–æ–≤—Ç–æ—Ä–∏—Ç—å.
